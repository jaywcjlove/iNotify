/*! @wcjiang/notify v2.0.12 | MIT (c) 2022 kenny wang | http://jaywcjlove.github.io/iNotify */
"use strict";window.t&&"granted"!==window.t.i&&window.t.n();var iconURL="",repeatableEffects=["flash","scroll"],defaultNotification={s:"iNotify !",e:"You have a new message.",o:""};function jsonArguments(t,i){for(var n in i)t[n]&&(i[n]=t[n]);return i}function isArray(t){return"[object Array]"===Object.prototype.toString.call(t)}function createAudio(t){var i,n=document.h("audio");if(isArray(t)&&0<t.length)for(var s=0;s<t.length;s++)(i=document.h("source")).r=t[s],i.c="audio/".concat(getExtension(t[s])),n.u(i);else n.r=t;return n}function getFavicon(t){return document.a("link[rel~=shortcut]")[0]||changeFavicon("O",t)}function getExtension(t){return t.match(/\.([^\\.]+)$/)[1]}function changeFavicon(t,i){var n=document.h("canvas"),s=document.f("head")[0],e=document.h("link"),o=null;return n.d=32,n.l=32,(o=n.v("2d")).m=i.g,o.w(0,0,32,32),o.y="center",o.p='22px "helvetica", sans-serif',o.m=i.F,t&&o.N(t,16,24),e.A("rel","shortcut icon"),e.A("type","image/x-icon"),e.A("id","new".concat(i.R)),e.A("href",n.b("image/png")),iconURL=n.b("image/png"),s.u(e)}function Notify(t){t&&this.L(t)}Notify.prototype={L:function(t){return this.U=(t=t||{}).U||100,this.k=t.k||"flash",this.s=t.s||document.s,this.message=t.message||this.s,this.x=t.x||this.x,this.o=t.o||this.o,this.C=t.C||!1,this.j=!this.C&&(t.j||{R:"favicon",F:"#fff",g:"#2F9A00"}),this.I=t.I||"",this.P=!this.C&&getFavicon(this.j),this.T=this.P&&this.P.O(!0),iconURL=t.B&&t.B.Y?t.B.Y:t.Y||this.P.$,defaultNotification.Y=iconURL,this.B=t.B||defaultNotification,this.I&&this.I.q&&this.z(this.I.q),this},D:function(){var t;return"flash"===this.k?document.s=this.s===document.s?this.message:this.s:"scroll"===this.k&&(t=this.message||document.s,this.G&&this.G.slice(1)?(this.G=this.G.slice(1),document.s=this.G):(document.s=t,this.G=t)),this},H:function(t){if(!0===t){if(0<=repeatableEffects.indexOf(this.k))return this.J()}else t?(this.message=t,this.G="",this.J()):this.K();return this},z:function(t){return t&&(this.M&&this.M.Q(),this.M=createAudio(t),document.e.u(this.M)),this},S:function(){return this.z(),this.M.V=!0,this.W(),this},X:function(){return this.M&&(this.M.V=!1,this.M.Z()),this},W:function(){if(this.I&&this.I.q)return this.M||(this.M=createAudio(this.I.q),document.e.u(this.M)),this.M._(),this},tt:function(t){var i,n,s=this.B,e=t.o||this.o,o=t.x||this.x;return window.t&&(s=t?jsonArguments(t,s):defaultNotification,(i={}).Y=t.Y||iconURL,i.e=s.e||t.e,t.it&&(i.it=t.it),(n=new Notification(s.s||t.s,i)).x=function(){o&&"function"==typeof o&&o(n),e&&window.nt(e)},n.st=function(){t.st&&"function"==typeof t.st&&t.st(n)},n.et=function(){t.et&&"function"==typeof t.et&&t.et(n)},n.ot=function(){t.ot&&"function"==typeof t.ot&&t.ot(n)},this.ht=n),this},rt:function(){return window.t&&"granted"===Notification.i},ct:function(t){return t&&(this.U=t,this.J()),this},ut:function(t){if(!t&&0!==t)return this.ft();var i=document.dt("new".concat(this.j.R));return this.P&&this.P.Q(),i&&i.Q(),changeFavicon(this.j.lt=t,this.j),this},mt:function(t){return t&&(this.vt(),this.j.F=t,changeFavicon(this.j.lt,this.j)),this},gt:function(t){return t&&(this.vt(),this.j.g=t,changeFavicon(this.j.lt,this.j)),this},vt:function(){this.ft();var t=document.dt("new".concat(this.j.R));this.P&&this.P.Q(),t&&t.Q()},J:function(){return this.K(),0<=repeatableEffects.indexOf(this.k)&&(this.wt=setInterval(this.D.bind(this),this.U)),this},yt:function(){this.ht&&this.ht.yt()},ft:function(){var t=document.dt("new".concat(this.j.R)),i=document.f("head")[0],n=document.a("link[rel~=shortcut]");if(t&&t.Q(),0<n.length)for(var s=0;s<n.length;s++)n[s].Q();return i.u(this.T),iconURL=this.T.$,this.P=this.T,this},K:function(){return this.wt&&clearInterval(this.wt),document.s=this.s,this}},module.pt=Notify;